<!DOCTYPE html>
<html lang="sv">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404 - Vilse i Avgrundstunneln! | HK Vägtrumma</title>
    <link href="src/output.css" rel="stylesheet" />
    <meta name="robots" content="noindex, follow" />
    <style>
        :root {
            /* ANPASSA DESSA HEX-KODER FÖR ATT MATCHA DINA TAILWIND-FÄRGER EXAKT! */
            --color-DGreenC-50: #f0efe9;
            /* Exempel: HK's DGreenC-50 */
            --color-DGreenC-100: #dfded8;
            /* Exempel: HK's DGreenC-100 */
            --color-DGreenC-200: #c1bfb3;
            /* Exempel: HK's DGreenC-200 */
            --color-DGreenC-300: #a29d8b;
            /* Exempel: HK's DGreenC-300 */
            --color-DGreenC-600: #34322c;
            /* Exempel: HK's DGreenC-600 (Default dark bg) */
            --color-DGreenC-900: #11100e;
            /* Exempel: HK's DGreenC-900 (Darkest for text/pipe) */
            --color-YellowC-300: #fde047;
            /* Exempel: HK's YellowC-300 (Lighter Yellow) */
            --color-YellowC-400: #facc15;
            /* Exempel: HK's YellowC-400 (Main Yellow) */
            --color-YellowC-500: #eab308;
            /* Exempel: HK's YellowC-500 (Darker Yellow for buttons) */
            --color-BrownC-400: #9c8c7d;
            /* Exempel: HK's BrownC-400 (Pebble) */
            --color-Eye-Glow: #fffacd;
            /* Lite mindre intensiv gul för ögon, LemonChiffon */
            --color-Red-600: #dc2626;
            /* Exempel: Tailwind red-600 */
            --color-Red-700: #b91c1c;
            /* Exempel: Tailwind red-700 */
            --color-White: #ffffff;
        }

        body.screen-shake {
            animation: shake 0.4s cubic-bezier(.36, .07, .19, .97) both;
        }

        @keyframes shake {

            10%,
            90% {
                transform: translate3d(-1px, 0, 0) rotate(-0.5deg);
            }

            20%,
            80% {
                transform: translate3d(2px, 0, 0) rotate(0.5deg);
            }

            30%,
            50%,
            70% {
                transform: translate3d(-3px, 0, 0) rotate(-1deg);
            }

            40%,
            60% {
                transform: translate3d(3px, 0, 0) rotate(1deg);
            }
        }

        .tunnel-bob {
            animation: bob 6s ease-in-out infinite;
        }

        @keyframes bob {

            0%,
            100% {
                transform: translateY(0px) rotate(0deg);
            }

            25% {
                transform: translateY(-10px) rotate(-2deg);
            }

            50% {
                transform: translateY(-15px) rotate(0deg);
            }

            75% {
                transform: translateY(-10px) rotate(2deg);
            }
        }

        .dust-mote {
            position: absolute;
            background: var(--color-DGreenC-300);
            border-radius: 50%;
            animation: drift var(--duration) ease-in-out infinite;
            opacity: 0;
            will-change: transform, opacity;
            /* Performance hint */
        }

        @keyframes drift {
            0% {
                opacity: 0;
                transform: translateY(0) translateX(0) scale(0.5);
            }

            10% {
                opacity: 0.6;
            }

            90% {
                opacity: 0.6;
            }

            100% {
                opacity: 0;
                transform: translateY(calc(var(--drift-y) * 1px)) translateX(calc(var(--drift-x) * 1px)) scale(1.2);
            }
        }

        .pipe-opening {
            display: inline-block;
            width: 1em;
            height: 1em;
            border-radius: 50%;
            border: 0.15em solid var(--color-DGreenC-100);
            background: var(--color-DGreenC-900);
            box-shadow: inset 0 0 0.2em rgba(0, 0, 0, 0.7);
            animation: pipe-spin 8s linear infinite, pipe-pulse 2.5s ease-in-out infinite alternate;
            filter: drop-shadow(0 0 5px var(--color-DGreenC-200));
            transition: transform 0.2s ease-out;
        }

        .pipe-opening:hover {
            transform: scale(1.3) rotate(20deg);
        }

        @keyframes pipe-spin {
            0% {
                transform: rotate(0deg) scale(1);
            }

            50% {
                transform: rotate(180deg) scale(1.05);
            }

            100% {
                transform: rotate(360deg) scale(1);
            }
        }

        @keyframes pipe-pulse {
            from {
                box-shadow: inset 0 0 0.2em rgba(0, 0, 0, 0.7), 0 0 5px var(--color-DGreenC-200);
                opacity: 0.8;
            }

            to {
                box-shadow: inset 0 0 0.5em rgba(0, 0, 0, 0.9), 0 0 15px var(--color-YellowC-400);
                opacity: 1;
            }
        }


        .hidden-tunnel-link {
            opacity: 0;
            transition: opacity 0.5s ease-in-out, transform 0.3s ease;
            display: inline-block;
            /* For transform to work */
        }

        .error-container:hover .hidden-tunnel-link {
            opacity: 1;
        }

        .hidden-tunnel-link:hover {
            transform: translateX(-10px) scale(1.1);
            color: var(--color-YellowC-300);
        }

        .pebble {
            position: absolute;
            width: var(--pebble-size, 3px);
            height: calc(var(--pebble-size, 3px) * 1.6);
            background: var(--color-BrownC-400);
            animation: pebble-fall var(--fall-duration) linear infinite;
            opacity: 0;
            /* Start invisible, fade in with animation */
            border-radius: 3px;
            will-change: transform, opacity;
        }

        @keyframes pebble-fall {
            0% {
                transform: translateY(-60px) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 0.9;
            }

            90% {
                opacity: 0.9;
            }

            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .creepy-eyes-container {
            position: fixed;
            top: 15%;
            /* Higher up */
            left: 50%;
            transform: translateX(-50%);
            z-index: 5;
            opacity: 0;
            /* Start hidden, fade in */
            animation: fadeInEyes 5s 2s forwards;
            /* Fade in after 2s delay */
            pointer-events: none;
            filter: blur(1px);
            /* Slightly blurry */
        }

        @keyframes fadeInEyes {
            to {
                opacity: 0.25;
                filter: blur(0);
            }
        }

        .eye-pair {
            display: flex;
            gap: 40px;
        }

        /* More space between eyes */
        .eye {
            width: 25px;
            height: 15px;
            background: var(--color-Eye-Glow);
            border-radius: 50% / 60%;
            /* More almond shape */
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px var(--color-Eye-Glow);
            overflow: hidden;
        }

        .pupil {
            width: 6px;
            height: 6px;
            background: var(--color-DGreenC-900);
            border-radius: 50%;
            transition: transform 0.08s ease-out;
            /* Faster pupil movement */
        }

        .flashlight-overlay {
            position: fixed;
            inset: 0;
            background: radial-gradient(circle 120px at var(--cursor-x, 50%) var(--cursor-y, 50%),
                    rgba(240, 239, 233, 0.2) 0%,
                    /* DGreenC-50 with low alpha */
                    rgba(52, 50, 44, 0.7) 30%,
                    /* DGreenC-600 with mid alpha */
                    var(--color-DGreenC-900) 70%);
            /* DGreenC-900 solid */
            pointer-events: none;
            z-index: 9998;
            opacity: 0;
            transition: opacity 0.2s;
            mix-blend-mode: overlay;
            /* Experiment with blend modes */
        }

        body.flashlight-on .flashlight-overlay {
            opacity: 1;
        }

        body.flashlight-on .error-container {
            /* Make text under flashlight more readable - might need adjustment */
            /* filter: contrast(1.5) brightness(1.1); */
        }

        body.flashlight-on .creepy-eyes-container {
            opacity: 0.05;
        }

        /* Eyes almost disappear in light */


        .crazy-button {
            animation: crazy-button-dance 1.5s infinite ease-in-out;
            will-change: transform;
        }

        @keyframes crazy-button-dance {

            0%,
            100% {
                transform: rotate(-2.5deg) scale(1);
            }

            25% {
                transform: rotate(2.5deg) scale(1.08);
                filter: hue-rotate(30deg);
            }

            50% {
                transform: rotate(-3.5deg) scale(0.92);
                filter: hue-rotate(-20deg);
            }

            75% {
                transform: rotate(3.5deg) scale(1.06);
                filter: hue-rotate(10deg);
            }
        }
    </style>
</head>

<body
    class="bg-DGreenC-600 text-DGreenC-100 min-h-screen flex flex-col items-center justify-center p-4 overflow-hidden font-body antialiased">
    <div id="dust-motes" class="fixed inset-0 z-0"></div>
    <div class="creepy-eyes-container">
        <div class="eye-pair">
            <div class="eye" id="left-eye">
                <div class="pupil"></div>
            </div>
            <div class="eye" id="right-eye">
                <div class="pupil"></div>
            </div>
        </div>
    </div>
    <div id="flashlight-overlay" class="flashlight-overlay"></div>

    <main class="error-container relative z-10 text-center flex-grow flex flex-col items-center justify-center">
        <div class="w-full max-w-4xl xl:max-w-5xl mx-auto px-4 sm:px-6">
            <div class="mb-8 md:mb-12 tunnel-bob">
                <img src="Image/logo.webp" alt="HK Vägtrumma Logotyp"
                    class="mx-auto h-auto w-32 md:w-48 filter hover:hue-rotate-90 transition-all duration-500" />
            </div>

            <h1 class="font-heading text-DGreenC-50 text-7xl sm:text-8xl lg:text-9xl mb-6 tunnel-bob">
                4<span class="pipe-opening" aria-hidden="true" title="Klicka på mig, om du vågar snurra!"></span>4
            </h1>
            <p class="text-DGreenC-100 text-xl sm:text-2xl md:text-3xl mb-4 max-w-2xl mx-auto">
                WHOA! Du har snubblat in i en digital återvändsgränd, mörkare än en säck kol!
            </p>
            <p class="text-DGreenC-200 text-lg sm:text-xl md:text-2xl mb-10 max-w-2xl mx-auto">
                Sidan du jagade? Den har nog blivit bortförd av pixeltroll eller förvandlats till en extremt sällsynt
                NFT.
            </p>

            <div class="space-y-6">
                <a href="EasterEgg.html"
                    class="hidden-tunnel-link text-YellowC-400 hover:text-YellowC-300 transition block text-lg font-semibold">
                    ← Är det där... en väg ut? Eller kommer jag ännu djupare?
                </a>

                <div class="flex flex-col sm:flex-row items-center justify-center gap-4 md:gap-8 mt-8">
                    <a href="index.html"
                        class="bg-YellowC-500 text-DGreenC-800 hover:bg-YellowC-600 hover:text-DGreenC-950 inline-flex items-center justify-center gap-2 hover:scale-110 px-6 py-3 rounded-lg text-base md:text-lg transition duration-200 ease-in-out transform shadow-xl hover:shadow-DGreenC-950 sm:w-auto font-body font-bold">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                            stroke="currentColor" class="w-5 h-5">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M2.25 12l8.954-8.955a1.125 1.125 0 011.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5" />
                        </svg>
                        TILLBAKA TILL CIVILISATIONEN!
                    </a>
                    <a href="Products.html"
                        class="bg-YellowC-500 text-DGreenC-800 hover:bg-YellowC-600 hover:text-DGreenC-950 inline-flex items-center justify-center gap-2 hover:scale-110 px-6 py-3 rounded-lg text-base md:text-lg transition duration-200 ease-in-out transform shadow-xl hover:shadow-DGreenC-950 sm:w-auto font-body font-bold">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                            stroke="currentColor" class="w-5 h-5">
                            <ellipse cx="12" cy="8" rx="7" ry="3" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M5 8V16" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19 8V16" />
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M5 16C5 17.6569 8.13401 19 12 19C15.866 19 19 17.6569 19 16" />
                        </svg>
                        VISA MIG RÖREN!
                    </a>
                </div>
                <button id="crazy-button"
                    class="mt-8 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-xl shadow-2xl crazy-button transition transform hover:!scale-125 text-lg">
                    RÖR. MIG. INTE. (JAG MENAR DET!)
                </button>
            </div>

            <div class="mt-16 cursor-default">
                <p class="text-sm text-DGreenC-300 animate-pulse">
                    Tips från coachen: 'L' tänder ficklampan. Du kanske ser... saker.
                </p>
            </div>
        </div>
    </main>

    <!-- Ljudfiler (lägg till dina egna .mp3-filer) -->
    <!-- <audio id="flashlight_on_sound" src="sounds/flashlight_on.mp3" preload="auto"></audio> -->
    <!-- <audio id="flashlight_off_sound" src="sounds/flashlight_off.mp3" preload="auto"></audio> -->
    <!-- <audio id="crazy_button_sound_1" src="sounds/crazy_button_1.mp3" preload="auto"></audio> -->
    <!-- <audio id="crazy_button_sound_2" src="sounds/crazy_button_2.mp3" preload="auto"></audio> -->
    <!-- <audio id="ambient_cave_sound" src="sounds/ambient_cave.mp3" loop preload="auto"></audio> -->
    <!-- <audio id="pipe_click_sound" src="sounds/pipe_click.mp3" preload="auto"></audio> -->


    <script>
        // Ljudfunktion (avkommentera och anpassa när du har ljudfiler)
        function playSound(soundId, volume = 0.7) {
            // const sound = document.getElementById(soundId);
            // if (sound) {
            //     sound.currentTime = 0;
            //     sound.volume = volume;
            //     sound.play().catch(e => console.warn(`Ljuduppspelning misslyckades för ${soundId}:`, e));
            // }
        }

        // Initial screen shake & ambient sound
        document.body.classList.add('screen-shake');
        setTimeout(() => document.body.classList.remove('screen-shake'), 400);
        // playSound('ambient_cave_sound', 0.3); // Start ambient sound

        // Dust motes
        const dustContainer = document.getElementById('dust-motes');
        if (dustContainer) {
            const numDustMotes = window.innerWidth > 768 ? 120 : 60; // Färre på små skärmar
            for (let i = 0; i < numDustMotes; i++) {
                const mote = document.createElement('div');
                mote.className = 'dust-mote';
                mote.style.left = `${Math.random() * 100}%`;
                mote.style.top = `${Math.random() * 100}%`;
                const size = Math.random() * 2.5 + 0.8;
                mote.style.width = `${size}px`; mote.style.height = mote.style.width;
                mote.style.setProperty('--duration', `${Math.random() * 15 + 8}s`);
                mote.style.setProperty('--drift-x', `${(Math.random() - 0.5) * 180}`);
                mote.style.setProperty('--drift-y', `${(Math.random() - 0.5) * 180}`);
                mote.style.animationDelay = `${Math.random() * 10}s`;
                dustContainer.appendChild(mote);
            }
        }

        // Falling pebbles
        function createPebble() {
            if (document.hasFocus() && Math.random() < 0.7) { // 70% chance to spawn per interval
                const pebble = document.createElement('div');
                pebble.className = 'pebble';
                pebble.style.left = `${Math.random() * 98 + 1}%`; // Keep away from exact edges
                const pebbleSize = Math.random() * 3 + 2; // Varied pebble size 2px-5px
                pebble.style.setProperty('--pebble-size', `${pebbleSize}px`);
                pebble.style.setProperty('--fall-duration', `${Math.random() * 1.5 + 1.2}s`);
                pebble.style.animationDelay = `${Math.random() * 0.5}s`;
                document.body.appendChild(pebble);
                setTimeout(() => pebble.remove(), parseFloat(pebble.style.getPropertyValue('--fall-duration').replace('s', '')) * 1000 + 500);
            }
        }
        setInterval(createPebble, 1500); // Try to spawn pebbles more often

        // Creepy Eyes
        const leftPupil = document.querySelector('#left-eye .pupil');
        const rightPupil = document.querySelector('#right-eye .pupil');
        const eyeContainer = document.querySelector('.creepy-eyes-container');
        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        function updatePupils() {
            if (!leftPupil || !rightPupil || !eyeContainer) return;
            const rect = eyeContainer.getBoundingClientRect(); // Get actual position of eye container
            const originX = rect.left + rect.width / 2;
            const originY = rect.top + rect.height / 2;

            const deltaX = mouseX - originX;
            const deltaY = mouseY - originY;

            // Max pupil movement inside the eye
            const maxPupilMoveX = (leftPupil.parentElement.offsetWidth - leftPupil.offsetWidth) / 2.5;
            const maxPupilMoveY = (leftPupil.parentElement.offsetHeight - leftPupil.offsetHeight) / 2.5;

            const pupilX = Math.max(-maxPupilMoveX, Math.min(maxPupilMoveX, deltaX * 0.03));
            const pupilY = Math.max(-maxPupilMoveY, Math.min(maxPupilMoveY, deltaY * 0.03));

            leftPupil.style.transform = `translateX(${pupilX}px) translateY(${pupilY}px)`;
            rightPupil.style.transform = `translateX(${pupilX}px) translateY(${pupilY}px)`;
            requestAnimationFrame(updatePupils);
        }
        requestAnimationFrame(updatePupils);


        // Flashlight 'L' key
        const flashlightOverlay = document.getElementById('flashlight-overlay');
        let flashlightOn = false;
        document.addEventListener('mousemove', (e) => { // Uppdatera alltid overlayens position
            if (flashlightOverlay) {
                flashlightOverlay.style.setProperty('--cursor-x', e.clientX + 'px');
                flashlightOverlay.style.setProperty('--cursor-y', e.clientY + 'px');
            }
        });
        document.addEventListener('keydown', (e) => {
            if (e.key.toLowerCase() === 'l') {
                e.preventDefault(); // Förhindra webbläsarens standard 'l'-beteende (t.ex. sökfält)
                flashlightOn = !flashlightOn;
                document.body.classList.toggle('flashlight-on', flashlightOn);
                // playSound(flashlightOn ? 'flashlight_on_sound' : 'flashlight_off_sound', 0.5);
            }
        });

        // "Don't Touch" Button
        const crazyBtn = document.getElementById('crazy-button');
        if (crazyBtn) {
            const originalButtonText = crazyBtn.textContent;
            const responses = [
                "AJ! Det där var ONÖDIGT!", "SLUTA KLICKA PÅ MIG!", "VARFÖR LYSSNAR DU INTE?!",
                "NU BLEV JAG FAKTISKT IRRITERAD!", "EN GÅNG TILL OCH JAG... exploderar!",
                "Ok, ok, du vinner... för nu.", "Det kittlas lite, faktiskt."
            ];
            let responseIndex = 0;
            let clickCount = 0;

            crazyBtn.addEventListener('click', () => {
                clickCount++;
                document.body.classList.add('screen-shake');
                setTimeout(() => document.body.classList.remove('screen-shake'), 300);

                crazyBtn.textContent = responses[responseIndex % responses.length];
                responseIndex++;
                // playSound(clickCount % 2 === 0 ? 'crazy_button_sound_1' : 'crazy_button_sound_2');

                // Change button color and maybe size
                const randomHue = Math.random() * 360;
                crazyBtn.style.filter = `hue-rotate(${randomHue}deg) brightness(1.2)`;
                crazyBtn.style.transform = `scale(${1 + (Math.random() * 0.2 - 0.1)})`; // +/- 10%

                if (clickCount > 5 && Math.random() > 0.7) {
                    crazyBtn.textContent = "NU RÄCKER DET! *poff*";
                    crazyBtn.disabled = true;
                    crazyBtn.style.opacity = "0.5";
                    crazyBtn.style.animation = "none"; // Stop dancing
                    // playSound('button_poof_sound');
                } else {
                    setTimeout(() => {
                        crazyBtn.textContent = originalButtonText;
                        crazyBtn.style.filter = '';
                        crazyBtn.style.transform = '';
                    }, 1800);
                }
            });
        }

        // Pipe opening click
        const pipeOpening = document.querySelector('.pipe-opening');
        if (pipeOpening) {
            pipeOpening.addEventListener('click', () => {
                pipeOpening.style.transform = `scale(1.5) rotate(${Math.random() * 360 - 180}deg)`;
                document.body.classList.add('screen-shake');
                setTimeout(() => {
                    pipeOpening.style.transform = '';
                    document.body.classList.remove('screen-shake');
                }, 500);
                // playSound('pipe_click_sound', 0.8);
            });
        }

    </script>
</body>

</html>